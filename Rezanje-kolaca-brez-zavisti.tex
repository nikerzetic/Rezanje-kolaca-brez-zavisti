% !TeX spellcheck = sl_SI
\documentclass[a4paper, 12pt]{article}
\usepackage[slovene]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

\usepackage{graphicx}
\usepackage{float}

\usepackage{amssymb}
\usepackage{amsmath,amsfonts}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{subfigure}
\usepackage{wrapfig}
\usepackage{lipsum}
\usepackage{tikz}
\usepackage{multirow}

\usepackage{array}
\usepackage{multicol}
\usepackage{enumerate}
\usepackage{enumitem}

\usepackage{booktabs}

\title{
	\textbf{Rezanje kolača brez zavisti} \\
	\large Predstavitev protokolov razdeljevanja 
}

\author{Nik Erzetič}

\newtheorem{izrek}{Izrek}
\newtheorem{definicija}{Definicija}
\newtheorem{posledica}{Posledica}
\newtheorem{trditev}{Trditev}
\newtheorem{lema}{Lema}
\newtheorem{protokol}{Protokol}
\newenvironment{dokaz}{\paragraph{Dokaz:}}{\hfill$\square$\\}

\begin{document}
	
	\maketitle
	
	Uvod: zakaj pomembno, predstavil protokole za rezanje torte predstavljene v izvornem članku, definiral par pojmov, uporabno v računalništvu
	
	Kako razrezati kolač, da bo vsak otrok zadovoljen s svojim kosom? Kako razporediti hišna opravila, da se nihče ne bo pritoževal, češ da mora storiti več kot ostali? Kako razdeliti sporno ozemlje med sosednji državi? V tem članku bom podal štiri protokole, ki rešijo prva dva problema in ki so navdihnili protokole, s katerim se lahko odgovori na tretje vprašanje. Zapisal jih bom tako, kot so predstavljeni v članku An Envy-Free Cake Division Protocol \cite{brams-taylor} avtorjev Brams in Taylor. Ti protokoli so: \textit{razreži in izberi}, \textit{proporcionalni protokol za $n = 3$}, \textit{proporcionalni protokol za poljuben $n$} in \textit{protokol brez zavisti za $n = 3$}. V izvornem članku je opisan še \textit{protokol brez zavisti za poljuben $n$}, vendar ga ne bom podrobneje opisal, ker je v mojih očeh za vsakdanje situacije nepraktičen.
	
	Definicije in protokoli v tem članku bodo skoraj povsem enaki tistim, ki jih najdemo v izvornem delu \cite{brams-taylor}. Protokoli, dokazi in zmagovalne strategije so v njem podani hkrati, jaz pa jih bom tu ločil. Prav tako bom postopek zapisal kot psevdokodo.
	
	Preden začnem opisovati protokole, moram definirati še nekaj pojmov. Prva od teh je - zdaj že velikokrat omenjena beseda - protokol. Sledita še dve definiciji o lastnostih protokolov - proporcionalnost in brez zavisti - ki sem ju prav tako že omenil v uvodnem odstavku.

	\begin{definicija}
		\textbf{Protokol} je interaktiven postopke, ki ga lahko zapišemo kot računalniški program in ki sodelujočim lahko postavlja vprašanja, ki spremenijo njegov končni izid.
	\end{definicija}

	\begin{definicija}
		Protokol je \textbf{proporcionalen}, če za vsakega igralca obstaja strategija, ki mu bo zagotovila vsaj $\frac{1}{n}$ kolača (glede na lasten kriterij).
	\end{definicija}

	Zapis pogoja iz definicije s kvantifikatorji izgleda takole:
	
	$$
	\forall i \in \{1, 2, \ldots, n\}.\ \exists S_i: P \rightarrow P_i.\ V_i (P_i) \geq \frac{1}{n}
	$$
	
	V zgornjem zapisu sem uporabil simbole, ki se jih bom posluževal tudi v nadaljevanju članka. Najprej je tu množica indeksov $\{1, 2, \ldots, n\}$, ki bi jo lahko kar enačili z množico igralcev. Sledi preslikava $S_i$, ki pomeni strategijo, s katero i-ti igralec pridobi kos kolača $P_i$. Nazadnje je tu še preslikava $V_i$, ki je kriterij i-tega igralca za določanje velikosti kosov torte.

	\begin{definicija}
		Protokol je \textbf{brez zavisti}, če za vsakega igralca obstaja strategija, ki mu bo zagotovila kos, ki je večji ali enak ostalim kosom. 
	\end{definicija}

	Pogoj protokola brez zavisti zapišemo takole:
	
	$$
	\forall i \in \{1, 2, \ldots, n\}.\ \exists S_i: P \rightarrow P_i.\ \forall j \in \{1, 2, \ldots, n\}.\ V_i (P_i) \geq V_i (P_j)
	$$
	
	Kot sem že zapisal, bom sledeče protokole predstavil s psevdokodo. V dokazih bom moral zato le poiskati optimalno strategijo in dokazati, da vsakega igralca privede do želenega rezultata. Protokoli že po svoji definiciji igralcem ponujajo različne opcije, zato bodo dokazi v večini temeljili na obravnavi primerov.
	
	Prvi protokol je \textit{razreži in razdeli} (cut-and-choose) za dva igralca. Ta protokol je hkrati proporcionalen in brez zavisti. Zgleda pa tako:
	
	\begin{protokol} 
		\label{razrezi&razdeli}
		Razreži in razdeli:
		\begin{enumerate}
			
			\item Igralec 1 kolač razreže na 2 dela.
			
			\item Igralec 2 izbere kos.
			
			\item Igralec 1 dobi preostali kos.
			
		\end{enumerate}
	\end{protokol}
	
	\begin{trditev}
		Protokol \ref{razrezi&razdeli} je proporcionalen in brez zavisti.
	\end{trditev}

	\begin{dokaz}
		Protokol z optimalno strategijo za oba igralca je sledeč:
		\begin{enumerate}
			
			\item Igralec 1 razreže kolač $P$ na kosa $P_1$ in $P_2$, da velja $V_1 (P_1) = V_1 (P_2) = \frac{1}{2}$.
			
			\item Igralec 2 izbere kos $P_{i_1}$, da velja $V_2 (P_{i_1}) \geq V_2 (P_{i_2})$, kjer sta $i_1, i_2$ elementa $\{1, 2\}$ in $i_1 \neq i_2$. Ker je vsota $V_2 (P_{i_1}) + V_2 (P_{i_2} = 1$ in $V_2 (P_{i_1}) \geq V_2 (P_{i_2})$, je $V_2 (P_{i_1}) \geq \frac{1}{2}$. Torej strategija igralcu 2 zagotovi kos, ki je večji ali enak $\frac{1}{2}$ in večji ali enak ostalim kosom.
			
			\item Igralec 1 dobi preostali kos $P_{i_2}$. Ker je $V_1 (P_1) = V_1 (P_2) = \frac{1}{2}$, je $V_1 (P_{i_2}) \geq \frac{1}{2}$ in $V_1 (P_{i_2}) \geq V_1 (P_{i_1})$. Torej strategija igralcu 1 zagotovi kos, ki je večji ali enak $\frac{1}{2}$ in večji ali enak ostalim kosom.
			
		\end{enumerate}
	
		Torej je protokol razreži in razdeli proporcionalen in brez zavisti.
	\end{dokaz}

	Naslednji je \textit{proporcionalni protokol za $n = 3$} (proportional protocol for $n=3$). Razvil ga je Steinhauss med drugo svetovno vojno. Poteka pa tako:
	
	\begin{protokol}
		\label{proporcionalni_3}
		Proporcionalni protokol za $n = 3$:
		\begin{enumerate}
			
			\item Igralec 1 razreže kolač na 3 dele.
			
			\item Igralec 2 ne stori nič ali označi 2 kosa.
			
			\item[] Če igralec 2 ne stori nič:
		
			\setcounter{enumi}{2}
			
			\item \qquad Igralec 3 izbere kos.
			
			\item \qquad Igralec 2 izbere kos.
			
			\item \qquad Igralec 1 dobi preostali kos.
			
			\item[] Če igralec 2 označi 2 kosa:

			\setcounter{enumi}{2}
			
			\item \qquad Igralec 3 ne stori nič ali označi 2 kosa.
			
			\item[] \qquad Če igralec 3 ne stori nič:
		
			\setcounter{enumi}{3}
			
			\item \qquad \qquad Igralec 2 izbere kos.
			
			\item \qquad \qquad Igralec 3 izbere kos.
			
			\item \qquad \qquad Igralec 1 dobi preostali kos.
			
			\item[] \qquad Če igralec 3 označi 2 kosa:

			\setcounter{enumi}{3}
			
			\item \qquad \qquad Igralec 1 izbere kos, ki sta ga označila igralec 2 in igralec 3
			
			\item \qquad \qquad Preostala kosa se združita v nov kolač
			
			\item \qquad \qquad Protokol \textbf{razreži in izberi} med igralcem 2 in igralcem 3
			
		\end{enumerate}
	\end{protokol}

	\begin{trditev}
		Protokol \ref{proporcionalni_3} je proporcionalen.
	\end{trditev}

	\begin{dokaz}
		Protokol z optimalno strategijo za vse tri igralce je sledeč:
	\end{dokaz}

	\begin{protokol}
		\label{proporcionalni_n}
		Proporcionalni protokol za poljuben $n$:
		\begin{enumerate}
			
			\item Igralec 1 odreže kos od kolača.
			
			\item \begin{enumerate}
							
				\item[(1.)] Igralec 2 ne stori nič ali obreže odrezani kos.
				
				\item[] $\vdots$
				
				\item[(i.)] Igralec i ne stori nič ali obreže odrezani kos.
				
				\item[] $\vdots$
				
				\item[(n.)] Igralec n ne stori nič ali obreže odrezani kos.
				
			\end{enumerate}
		
			\item Zadnji igralec, ki je obrezal kos, ali igralec 1, če nihče ni obrezal kosa, prejme ta kos.
			
			\item Odrezke se združijo s kolačem.
			
			\item Koraki 1. - 4. se ponavljajo, dokler ne ostaneta dva igralca.
			
			\item Protokol \textbf{razreži in izberi} med preostalima igralcem.
			
		\end{enumerate}
	\end{protokol}

	\begin{trditev}
		Protokol \ref{proporcionalni_n} je proporcionalen.
	\end{trditev}

	\begin{protokol}
		\label{brez_zavisti}
		Protokol brez zavisti za $n = 3$
		\begin{enumerate}
			
			\item Igralec 1 razreže kolač na 3 dele.
			
			\item Igralec 2 ne stori nič ali obreže 1 kos.
			
			\item[] Če igralec 2 ne stori nič:
			
			\item \qquad Igralec 3 izbere kos.
			
			\item \qquad Igralec 2 izbere kos.
			
			\item \qquad Igralec 1 dobi preostali kos.
			
			\item[] Če igralec 2 obreže 1 kos:
			
			\setcounter{enumi}{2}
			
			\item \qquad Igralec 3 izbere kos.
			
			\item \qquad Igralec 2 izbere kos. Če je na voljo, mora izbrati obrezani kos.
			
			\item \qquad Igralec 1 dobi preostali kos.
			
			\item \qquad Igralec 2 ali igralec 3, ki je prejel neobrezan kos, razreže odrezke na 3 dele.
			
			\item \qquad Igralec, ki je prejel obrezan kos, izbere kos.
			
			\item \qquad Igralec 1 izbere kos.
			
			\item \qquad Igralec, ki je razrezal odrezke, dobi preostali kos.
			
		\end{enumerate}
	\end{protokol}
	
	\begin{trditev}
		Protokol \ref{brez_zavisti} je brez zavisti.
	\end{trditev}
	
	\pagebreak
	
	\begin{thebibliography}{5}
		
		\bibitem{brams-taylor}
		Steven J. Brams, Alan D. Taylor
		An Envy-Free Cake Division Protocol
		\textit{The American Mathematical Monthly} \textbf{102} (1995), 9–18
		
	\end{thebibliography}
	
\end{document}














